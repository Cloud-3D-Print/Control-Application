(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a6230bc"],{"12c8":function(e,t,i){},"13d5":function(e,t,i){"use strict";var n=i("23e7"),r=i("d58f").left,a=i("a640"),o=i("ae40"),s=a("reduce"),c=o("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!c},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1ffa":function(e,t,i){"use strict";var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e)return!1;if(e.length>254)return!1;var t=n.test(e);if(!t)return!1;var i=e.split("@");if(i[0].length>64)return!1;var r=i[1].split(".");return!r.some((function(e){return e.length>63}))}},"5cb6":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-main",{staticClass:"page"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",{staticClass:"device-container pb-5"},[i("div",{staticClass:"device-list-group"},[i("div",{staticClass:"device-card-head clearfix"},[i("div",{staticClass:"dch-pic float-left"},[i("svg",{staticClass:"cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-raspberry"}})])]),i("div",{staticClass:"dch-info float-left ml-4 pt-1"},[i("h3",{staticClass:"mb-1"},[e._v(" "+e._s(e.curDevice.deviceNickname)+" "),i("el-link",{attrs:{underline:!1},on:{click:e.onRenameDevice}},[i("i",{staticClass:"el-icon-setting"})])],1),i("p",{staticClass:"mb-0 text-muted"},[e._v(e._s(e.curDevice.modelName)+" "),i("span",{staticClass:"px-2"},[e._v("|")]),e._v(" "+e._s(e.callGetBytesConversion(e.curDevice.usableStorage,"gb",!0))+" / "+e._s(e.callGetBytesConversion(e.curDevice.totalStorage,"gb",!0)))])]),i("div",{staticClass:"float-right",staticStyle:{"padding-top":"0.12rem"}},[e.curDevice.groupId?i("el-dropdown",[i("el-button",{attrs:{type:"info",loading:e.linkToGroup.groupListLoading,size:"medium"}},[e._v(e._s(e.getDeviceGroupName)),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.curDevice.groupId,expression:"curDevice.groupId"}]},[i("span",{on:{click:function(t){e.groupInfo.dialog=!0}}},[e._v("View group info")])]),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:!e.curDevice.groupId,expression:"!curDevice.groupId"}],attrs:{disabled:e.isDevicePrinting}},[i("span",{on:{click:e.handleLinkGroup}},[e._v("Link device to group")])]),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.curDevice.groupId,expression:"curDevice.groupId"}],attrs:{disabled:e.isDevicePrinting}},[i("span",{on:{click:e.unregisterDeviceFromGroup}},[e._v("Unlink device from group")])]),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.curDevice.groupId,expression:"curDevice.groupId"}],attrs:{disabled:e.isDevicePrinting}},[i("span",{on:{click:e.changeDeviceLinkedGroup}},[e._v("Change linked group")])])],1)],1):i("el-button",{attrs:{loading:e.linkToGroup.groupListLoading,size:"medium",type:"primary",disabled:!e.$store.getters.cloudToken},on:{click:e.handleLinkGroup}},[e._v("Link to group")])],1)]),i("div",{staticClass:"device-card-main el-card mt-4"},[i("div",{staticClass:"el-card__header clearfix"},[i("h4",{staticClass:"mb-0 py-1 float-left"},[i("i",{staticClass:"cp cp-device mr-2 text-primary"}),i("b",[e._v("3D printer information")]),i("el-link",{staticClass:"ml-2",attrs:{type:"primary",underline:!1},on:{click:e.refreshPrinterList}},[i("i",{class:e.printer.loading?"el-icon-loading":"el-icon-refresh"})])],1),i("el-tooltip",{attrs:{content:"Disabled when there are no available comports",placement:"right"}},[i("span",{staticClass:"float-right"},[i("el-button",{attrs:{type:"primary",size:"small",disabled:0===e.curDevice.comPortsList.length},on:{click:function(t){return e.onIdentifyDevice()}}},[e._v("Configure new 3D Printer")])],1)])],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.printer.loading,expression:"printer.loading"}],staticClass:"el-card__body pt-2"},[e.curDevice.printerList.length>0?i("ul",{staticClass:"device-printer-list m-0"},e._l(e.curDevice.printerList,(function(t){return i("li",{key:t.printerUUID,staticClass:"clearfix"},[i("div",{staticClass:"dpl-info"},[i("div",{staticClass:"dpl-info-pic"},[i("svg",{staticClass:"no-print-picture cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-slice-3d-printer"}})])]),i("h6",[e._v(e._s(t.printerNickName))]),i("p",[e._v(" Model: "+e._s(t.printerModelName)+" "),i("span",{staticClass:"ml-2"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Dimension in mm"}},[i("i",{staticClass:"cp cp-devices-start-3 text-primary mr-1"})]),e._v(" "+e._s(e.callPrinterDimensions(t.modelInfo))+" ")],1)])]),i("div",{staticClass:"dpl-maker float-left"},[e._v(e._s(e.callReturnOnlyDate(t.createDate)))]),i("div",{staticClass:"float-right pt-1"},[i("el-button",{attrs:{type:"primary",size:"mini",disabled:"disconnected"===t.printerStatus},on:{click:function(i){return e.routeToControl(t.printerUUID)}}},[i("i",{staticClass:"cp cp-control mr-2"}),e._v("Control ")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Connect the 3D printer"}},[i("el-button",{staticClass:"border-0",attrs:{disabled:"printing"===t.printerStatus,size:"small",icon:"el-icon-setting",circle:""},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openConnectDialog(t)}}})],1)],1),i("el-tooltip",{attrs:{effect:"dark",content:e.getPrinterStatusIcon(t.printerStatus,!0),placement:"bottom"}},[i("i",{staticClass:"cp cp-yuandian cp-yuandian1",class:e.getPrinterStatusIcon(t.printerStatus)})])],1)})),0):i("ul",{staticClass:"device-tutorial-list clearfix m-0 pt-4"},[i("li",[i("div",{staticClass:"device-tutorial-head"},[i("div",{staticClass:"device-tutorial-icon bg-primary"},[i("i",{staticClass:"cp cp-devices-tutorial-7"})])]),i("div",{staticClass:"device-tutorial-main"},[i("h6",[e._v(" STEP 1 : ")]),i("p",[e._v(" Plug the 3D printer into Raspberry Pi ")])])]),i("li",[i("div",{staticClass:"device-tutorial-head"},[i("div",{staticClass:"device-tutorial-icon bg-primary"},[i("i",{staticClass:"cp cp-devices-tutorial-8"})])]),i("div",{staticClass:"device-tutorial-main"},[i("h6",[e._v(" STEP 2 : ")]),i("p",[e._v(" Choose the correct port number and check baud rate is correct. ")])])]),i("li",[i("div",{staticClass:"device-tutorial-head"},[i("div",{staticClass:"device-tutorial-icon bg-primary"},[i("i",{staticClass:"cp cp-devices-tutorial-6"})])]),i("div",{staticClass:"device-tutorial-main"},[i("h6",[e._v(" STEP 3 : ")]),i("p",[e._v(" Good to use. ")])])])])])])]),i("div",{staticClass:"device-list-group pt-0 mt-4"},[i("div",{staticClass:"device-card-main el-card"},[i("div",{staticClass:"el-card__header clearfix"},[i("h4",{staticClass:"mb-0 py-1 float-left"},[i("i",{staticClass:"cp cp-camera mr-2 text-primary"}),i("b",[e._v("Camera Information")]),i("el-link",{staticClass:"ml-2",attrs:{type:"primary",underline:!1},on:{click:e.callGetConnectedCameras}},[i("i",{class:e.camera.loading?"el-icon-loading":"el-icon-refresh"})])],1),i("div",{staticClass:"float-right mr-2"},[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addIPCamera.dialog=!0}}},[e._v("Add IP camera")])],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.camera.loading,expression:"camera.loading"}],staticClass:"el-card__body pt-2"},[e.curDevice.cameraList.length>0?i("ul",{staticClass:"device-printer-list m-0"},e._l(e.curDevice.cameraList,(function(t){return i("li",{key:t.cameraUUID,staticClass:"clearfix"},[i("div",{staticClass:"dpl-info"},[i("div",{staticClass:"dpl-info-pic"},[i("svg",{staticClass:"no-print-picture cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-unknown-camera"}})])]),i("h6",[e._v(e._s(t.cameraName))]),t.printerUUID&&e.getPrinterByUUID(t.printerUUID)?i("p",{staticClass:"font-size-12 ellipsis"},[e._v(" 3D Printer: "),i("span",{staticClass:"text-primary"},[e._v(e._s(e.getPrinterByUUID(t.printerUUID).printerNickName))])]):i("p",{staticClass:"font-size-12 ellipsis"},[e._v("Not connected to any 3D printer")])]),i("div",{staticClass:"dpl-maker float-left"},[e._v(e._s(e.getReadableCameraType(t.cameraType))+" camera")]),i("div",{staticClass:"float-right pt-1"},[i("el-dropdown",{staticClass:"camera-dropdown",attrs:{trigger:"click"}},[i("el-button",{staticClass:"mt-1",attrs:{type:"text",icon:"el-icon-setting"}},[e._v("Edit")]),i("el-dropdown-menu",{staticClass:"camera-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("span",{class:t.printerUUID?"text-danger":"",on:{click:function(i){return e.openCameraConnectDialog(t)}}},[e._v(e._s(t.printerUUID?"Disconnect":"Connect"))])]),i("el-dropdown-item",[i("span",{on:{click:function(i){return e.openEditCameraDialog(t)}}},[e._v("Edit")])])],1)],1)],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getCameraStatusIcon(t.cameraStatus,!0),placement:"top"}},[i("i",{staticClass:"cp cp-yuandian",class:e.getCameraStatusIcon(t.cameraStatus)})])],1)})),0):i("div",{staticClass:"pt-7 text-center"},[e._v("No data")])])])])])])],1),i("el-dialog",{staticClass:"el-dialog-lg",attrs:{visible:e.connectPrinter.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.connectPrinter,"dialog",t)}}},[e._t("default",[i("div",{staticClass:"el-dialog-title"},[i("el-avatar",{staticClass:"bg-primary",attrs:{size:35,icon:"el-icon-document-add"}}),i("h4",[e._v("Configure 3D printer connection")])],1)],{slot:"title"}),i("div",[i("el-row",{directives:[{name:"show",rawName:"v-show",value:"disconnected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'disconnected'"}]},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group mb-1"},[i("div",{staticClass:"mb-3"},[i("label",[e._v("Comport")]),i("el-link",{staticClass:"ml-2",attrs:{type:"primary",underline:!1},on:{click:e.callGetUnknownPorts}},[i("i",{class:e.comportsLoading?"el-icon-loading":"el-icon-refresh"})])],1),i("el-select",{attrs:{size:"medium",name:"comPortSelect"},model:{value:e.connectPrinter.comPort,callback:function(t){e.$set(e.connectPrinter,"comPort",t)},expression:"connectPrinter.comPort"}},e._l(e.curDevice.comPortsList,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group mb-1"},[i("div",{staticClass:"mb-3"},[i("label",[e._v("Baudrate (bps)")]),i("el-popover",{staticClass:"float-right",attrs:{placement:"bottom",trigger:"hover"}},[i("div",{staticClass:"page-filtrate-state"},[i("h6",[e._v("Warning")]),i("p",[e._v("Incorrectly setting the baud-rate may result in the control panel not being able to communicate with your 3D printer. Please ensure it is correct. You can change the baudrate at any time by disconnecting, then re-connecting the printer.")])]),i("span",{staticClass:"text-primary p-0",attrs:{slot:"reference"},slot:"reference"},[i("i",{staticClass:"el-icon-warning mr-1"})])])],1),i("div",{staticClass:"el-input-group new-el-select"},[i("el-select",{attrs:{size:"medium",name:"baudRateSelect"},model:{value:e.connectPrinter.baudRate,callback:function(t){e.$set(e.connectPrinter,"baudRate",t)},expression:"connectPrinter.baudRate"}},e._l(e.baudRateArr,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1),i("div",{staticClass:"el-input-group__append"},[e._v("bps")])],1)])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"connected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'connected'"}],staticStyle:{margin:"1em 0 0 1.5em"}},[e._v("Do you want to disconnect the printer from your device?")])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.connectPrinter.dialog=!1}}},[e._v("Cancel")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"disconnected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'disconnected'"}],attrs:{disabled:""===e.connectPrinter.comPort||""===e.connectPrinter.baudRate,size:"medium",type:"primary",loading:e.connectPrinter.loading},on:{click:function(t){return e.onConnectPrinter()}}},[e._v(" Connect ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"connected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'connected'"}],attrs:{size:"medium",type:"danger"},on:{click:function(t){return e.onDisconnectPrinter()}}},[e._v(" Disconnect ")])],1)],2),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.unknownDevice.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.unknownDevice,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-document-add"})]),i("span",{staticClass:"pl-2"},[e._v("Configure unknown 3D printer")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Nickname")]),i("el-input",{attrs:{type:"text",placeholder:"Please enter",maxlength:"50","show-word-limit":""},model:{value:e.unknownDevice.printerNickname,callback:function(t){e.$set(e.unknownDevice,"printerNickname",t)},expression:"unknownDevice.printerNickname"}})],1)]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("3D Printer model")]),i("el-popover",{ref:"addPrinterPopover",attrs:{trigger:"click",width:"280"},on:{show:e.onPrinterModelShow}},[i("div",{staticClass:"create-printer-list"},[i("div",{staticClass:"create-printer-search"},[i("el-input",{attrs:{placeholder:"Search...",size:"medium"},model:{value:e.addPrinterSearch,callback:function(t){e.addPrinterSearch=t},expression:"addPrinterSearch"}})],1),i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",{staticClass:"list-group list-group-print"},[e._l(e.presetPrinterListFiltered,(function(t){return i("div",{key:t.id,staticClass:"list-group-item",class:e.unknownDevice.printerId===t.id?"active":""},[i("div",{staticClass:"list-group-item-body"},[i("h4",{staticClass:"list-group-item-title"},[e._v(e._s(t.printerName)+" "),i("i",{staticClass:"ml-1 text-primary cp cp-cloud"})]),i("p",{staticClass:"list-group-item-text"},[e._v(e._s(t.manufacturer))]),i("p",{staticClass:"list-group-item-text"},[e._v(e._s(t.machineWidth+"*"+t.machineDepth+"*"+t.machineHeight)+"mm")])]),i("i",{staticClass:"el-icon-check text-teal"}),i("div",{staticClass:"stretched-link",on:{click:function(i){return e.onSelectUnknownPrinter(t)}}})])})),e.presetPrinterListFiltered.length<1?i("div",{staticClass:"text-center",staticStyle:{"padding-top":"1rem"}},[e._v(" No data ")]):e._e()],2)])],1),i("el-button",{staticStyle:{display:"block",width:"100%","text-align":"left"},attrs:{slot:"reference",size:"small"},slot:"reference"},[i("svg",{staticClass:"slice-icon-cp cp mr-2",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-slice-3d-printer"}})]),e.unknownDevice.printerModel?i("span",{staticClass:"font-size-14",staticStyle:{"vertical-align":"middle"}},[e._v(e._s(e.unknownDevice.printerModel))]):i("span",{staticClass:"text-muted font-size-14",staticStyle:{"vertical-align":"middle"}},[e._v("Please select 3D printer")]),i("i",{staticClass:"el-icon-arrow-down el-icon--right float-right mt-1"})])],1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.unknownDevice.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",loading:e.unknownDevice.btnLoading,disabled:!e.unknownDevice.printerNickname||!e.unknownDevice.printerModel},on:{click:e.callAddPrinter}},[e._v("Confirm")])],1)]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.linkToGroup.dialog,"before-close":e.handleCloseLinkGroupDialog,width:"5rem"},on:{"update:visible":function(t){return e.$set(e.linkToGroup,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-connection"})]),i("span",{staticClass:"pl-2"},[e._v(" "+e._s(e.linkToGroup.linkGroupTitleText)+" ")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},[i("el-col",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"mb-3"},[e._v("Select group")]),i("el-select",{model:{value:e.linkToGroup.selectedGroup,callback:function(t){e.$set(e.linkToGroup,"selectedGroup",t)},expression:"linkToGroup.selectedGroup"}},e._l(e.linkToGroup.groupList,(function(t){return i("el-option",{key:t.userGroupId,attrs:{value:t.userGroupId,label:t.groupName,loading:e.linkToGroup.groupListLoading,"loading-text":e.linkToGroup.groupListLoadingText}})})),1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.linkToGroup.groupListLoading=!1,e.linkToGroup.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:""===e.linkToGroup.selectedGroup},on:{click:e.callLinkGroup}},[e._v("Link")])],1)]),i("el-dialog",{staticClass:"edit-member-dialog",attrs:{visible:e.groupInfo.dialog,width:"6.5rem"},on:{"update:visible":function(t){return e.$set(e.groupInfo,"dialog",t)}}},[i("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[i("h3",{staticClass:"mb-1"},[e._v("About "+e._s(e.getDeviceGroupName))]),i("h5",[i("span",{staticClass:"badge badge-primary badge-subtle"},[e._v(" "+e._s(e.linkToGroup.deviceList.length)+" devices linked to group ")]),i("br")])]),i("div",{staticClass:"edit-member-list"},[i("el-row",{staticClass:"edit-member-item border-bottom py-3"},[i("el-col",{attrs:{span:13}},[i("p",{staticClass:"mb-0"},[e._v("Owner username:")])]),i("el-col",{attrs:{span:11}},[i("p",{staticClass:"p1 mb-0"},[i("b",[e._v(e._s(e.curDevice.groupInfo.userName))])])])],1),i("el-row",{staticClass:"edit-member-item py-4 border-bottom"},[i("el-col",{attrs:{span:13}},[i("p",{staticClass:"mb-0"},[e._v("Email:")])]),i("el-col",{attrs:{span:11}},[i("p",{staticClass:"p1 mb-0"},[i("b",[e._v(e._s(e.curDevice.groupInfo.email))])])])],1)],1)]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.connectCamera.dialog,width:"5rem"},on:{"update:visible":function(t){return e.$set(e.connectCamera,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-connection"})]),i("span",{staticClass:"pl-2"},[e._v(e._s(e.connectCamera.currentCamera.printerUUID?"Disconnect camera":"Connect camera"))])]),e.connectCamera.currentCamera.printerUUID?i("div",[i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"my-5"},[i("el-col",[i("p",{staticClass:"m-2"},[i("strong",[e._v("Your camera is connected to the 3D printer: ")]),i("span",{staticClass:"text-primary"},[e._v(e._s(e.getPrinterByUUID(e.connectCamera.currentCamera.printerUUID).printerNickName))])]),"ip"===e.connectCamera.currentCamera.cameraType?i("p",{staticClass:"m-2"},[i("strong",[e._v("RTSP link: ")]),i("span",{staticClass:"text-primary"},[e._v(e._s(e.connectCamera.currentCamera.uniqueInfo))])]):e._e()])],1)],1),i("div",{staticClass:"dialog-footer text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.connectCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"danger"},on:{click:e.onDisconnectCamera}},[e._v("Disconnect")])],1)]):i("div",[i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"my-5"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Select 3D printer")]),i("el-select",{model:{value:e.connectCamera.selectedPrinterUUID,callback:function(t){e.$set(e.connectCamera,"selectedPrinterUUID",t)},expression:"connectCamera.selectedPrinterUUID"}},e._l(e.curDevice.printerList,(function(e){return i("el-option",{key:e.printerUUID,attrs:{value:e.printerUUID,label:e.printerNickName}})})),1)],1)])],1),i("div",{staticClass:"dialog-footer text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.connectCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:""===e.connectCamera.nickname&&e.connectCamera.selectedPrinterUUID},on:{click:e.onConnectCamera}},[e._v("Connect")])],1)])]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.addIPCamera.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.addIPCamera,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-connection"})]),i("span",{staticClass:"pl-2"},[e._v("Add an IP Camera")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Enter IP camera RTSP link:")]),i("el-input",{attrs:{placeholder:"rtsp://admin:abc123@123.456.7.890/live"},model:{value:e.addIPCamera.rtsp,callback:function(t){e.$set(e.addIPCamera,"rtsp",t)},expression:"addIPCamera.rtsp"}})],1)]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Select 3D printer")]),i("el-select",{model:{value:e.connectCamera.selectedPrinterUUID,callback:function(t){e.$set(e.connectCamera,"selectedPrinterUUID",t)},expression:"connectCamera.selectedPrinterUUID"}},e._l(e.curDevice.printerList,(function(e){return i("el-option",{key:e.printerUUID,attrs:{value:e.printerUUID,label:e.printerNickName}})})),1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.addIPCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:""===e.addIPCamera.rtsp},on:{click:e.onAddIPCamera}},[e._v("Add")])],1)]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.editCamera.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.editCamera,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-connection"})]),i("span",{staticClass:"pl-2"},[e._v("Edit camera info")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},["ip"===e.editCamera.currentCamera.cameraType?i("el-col",[i("div",{staticClass:"form-group"},[i("label",[e._v("Camera RTSP link:")]),i("el-input",{attrs:{placeholder:e.editCamera.currentCamera.uniqueInfo},model:{value:e.editCamera.newIP,callback:function(t){e.$set(e.editCamera,"newIP",t)},expression:"editCamera.newIP"}})],1)]):e._e(),i("el-col",[i("div",{staticClass:"form-group"},[i("label",[e._v("Enter new camera name:")]),i("el-input",{attrs:{placeholder:"My awesome camera!",maxlength:"60"},on:{input:e.validateCameraName},model:{value:e.editCamera.newName,callback:function(t){e.$set(e.editCamera,"newName",t)},expression:"editCamera.newName"}}),e.editCamera.disabled&&e.editCamera.newName.length>0?i("p",{staticClass:"font-size-12 text-muted mb-0 mt-1 pl-1"},[e._v("The camera name should be unique, contain letters, digits, and . + - _ ( ) only, and should not exceed 60 characters.")]):e._e()],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.editCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:e.editCamera.disabled},on:{click:e.onUpdateCameraInfo}},[e._v("Update")])],1)]),i("CloudLogin",{ref:"cloudLoginDialog",on:{"cloud-logged-in":e.handleCloudLogin,"cloud-invalid-login":e.displayCloudLoginError}})],1)},r=[],a=i("1da1"),o=i("5530"),s=(i("96cf"),i("4de4"),i("caad"),i("2532"),i("7db0"),i("13d5"),i("498a"),i("159b"),i("d3b7"),i("2b0e")),c=(i("12c8"),i("aa98")),l=i("2f62"),u=i("bc3a"),d=i.n(u),p=i("5f87"),m=i("d70b"),v=i("e3e1"),g=i("b775");function f(){return Object(g["a"])({url:"/monitor/getConnectedCameras",method:"GET"})}function C(e){return Object(g["a"])({url:"/monitor/addIPCamera",method:"POST",params:{address:e}})}function h(e,t){return Object(g["a"])({url:"/monitor/bind",method:"POST",params:{cameraUUID:e,printerUUID:t}})}function b(e,t){return Object(g["a"])({url:"/monitor/edit/cameraName",method:"POST",params:{cameraUUID:e,cameraName:t}})}function D(e,t){return Object(g["a"])({url:"/monitor/edit/address",method:"POST",params:{cameraUUID:e,address:t}})}var k=i("fa7d"),P={name:"Devices",components:{CloudLogin:m["a"]},data:function(){return{printer:{listView:"list",loading:!1},camera:{listView:"list",loading:!1},comportsLoading:!1,mediaUrl:Object({VUE_APP_BASE_API:"/dev-api",VUE_APP_RPI_API:"http://192.168.5.125:8081",VUE_APP_CLOUD_API:"http://3.97.144.21:8443",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_MEDIA_API,cloudLoggedIn:!1,curDevice:{unknownDeviceList:[],printerList:[],printHistoryList:[],printingNowList:[],comPortsList:[],availableComPortsList:[],cameraList:[],printingHistoryLoading:!0,printingNowLoading:!0,boardModel:null,c3pModelName:"C3P_V1.1",comPort:null,currentUserId:1,deviceNickname:"c3pTestDevice",deviceSoftwareVersion:"",deviceUUID:"",isOnline:"true",userId:1,groupId:void 0,totalStorage:0,usableStorage:0,modelName:"",groupInfo:{createDate:"",email:"",groupName:"",groupType:"",memberDTOList:[],ownerId:"",userGroupId:"",userName:""}},curPrinter:{printerStatus:"disconnected"},unknownDevice:{dialog:!1,btnLoading:!1,deviceUUID:null,printerType:null,currentComport:"",firmware:null,baudRate:null,printerNickname:"",printerId:null,printerModel:null,printerManufacturerName:null,typeList:[{value:"Printer",icon:"#cp-unknown-printer"},{value:"Flash drive",icon:"#cp-unknown-flash-drive"},{value:"Camera",icon:"#cp-unknown-camera"},{value:"Mouse",icon:"#cp-unknown-mouse"},{value:"Keyboard",icon:"#cp-unknown-keyboard"}]},flavourArr:[{value:"marlin",label:"Marlin"},{value:"RepRap (Volumetric)",label:"RepRap (Volumetric)"},{value:"Reprap (RepRap)",label:"RepRap (RepRap)"},{value:"RepRap (Marlin/Sprinter)",label:"RepRap (Marlin/Sprinter)"},{value:"UltiGCode",label:"UltiGCode"},{value:"Griffin",label:"Griffin"},{value:"Makerbot",label:"Makerbot"},{value:"BFB",label:"BFB"},{value:"MACH3",label:"MACH3"},{value:"Repetier",label:"Repetier"}],baudRateArr:[2400,9600,19200,38400,57600,115200,25e4],connectPrinter:{dialog:!1,loading:!1,comPort:"",baudRate:"",firmware:"",shouldConnect:!0,printer:{},printerStatus:""},presetPrinterList:[],userConfiguration:{curPrinterUUID:""},addPrinterSearch:"",linkToGroup:{dialog:!1,groupList:[],deviceList:[],selectedGroup:"",groupListLoading:!1,groupListLoadingText:"Fetching groups...",linkGroupTitleText:"Link device to group"},groupInfo:{dialog:!1},connectCamera:{dialog:!1,nickname:"",selectedPrinterUUID:"",currentCamera:{address:"",cameraName:"",cameraStatus:"",cameraType:"",printerUUID:"",uniqueInfo:""}},addIPCamera:{dialog:!1,rtsp:"",selectedPrinterUUID:""},editCamera:{dialog:!1,disabled:!0,newName:"",newIP:"",currentCamera:{address:"",cameraName:"",cameraStatus:"",cameraUUID:"",cameraType:"",printerUUID:"",uniqueInfo:""}}}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["name"])),{},{presetPrinterListFiltered:function(){var e=this,t=this.presetPrinterList;return t.sort((function(e,t){return(e.printerName+"").localeCompare(t.printerName+"")})),this.addPrinterSearch?t.filter((function(t){var i=t.printerName+" "+t.manufacturer;return i.toLowerCase().includes(e.addPrinterSearch.toLowerCase())})):t},getDeviceGroupName:function(){var e,t=this,i=null===(e=this.linkToGroup.groupList.find((function(e){return e.userGroupId===t.curDevice.groupId})))||void 0===e?void 0:e.groupName;return i||"N/A"},isDevicePrinting:function(){if(!this.curDevice.printerList)return!1;var e=function(e,t){return e||"printing"===t.printerStatus};return this.curDevice.printerList.reduce(e,!1)}}),watch:{"$store.getters.cloudToken":function(){this.initializeCloudLogin()}},beforeDestroy:function(){Object(p["k"])(this.userConfiguration)},mounted:function(){var e=this;Object(p["d"])()&&(this.userConfiguration=JSON.parse(Object(p["d"])())),this.$store.getters.cloudToken&&this.initializeCloudLogin(),this.$root.$off("cloud-login"),this.$root.$on("cloud-login",(function(){e.$refs.cloudLoginDialog.open()})),this.$root.$off("cloud-logout"),this.$root.$on("cloud-logout",(function(){e.onCloudLogout()})),this.callGetDeviceInfo(),this.callGetStorage(),this.callGetAllPrinters(),this.callGetUnknownPorts(),this.callGetConnectedCameras()},methods:{onPrinterModelShow:function(){this.addPrinterSearch=""},validateCameraName:function(){var e=this.editCamera.newName.trim(),t=this.curDevice.cameraList;if(this.editCamera.disabled=!0,e.length>0){var i=t.find((function(t){return t.cameraName.trim()===e}));if(!i){var n=/^[a-zA-z].*[a-zA-Z0-9—() ._+-]{1,60}$/;n.test(e)?this.editCamera.disabled=!1:console.log("failed")}}},callGetDeviceInfo:function(){var e=this;Object(c["f"])().then((function(t){console.log(t),e.curDevice.deviceNickname=t.deviceNickname,e.curDevice.deviceUUID=t.deviceUUID,e.curDevice.modelName=t.modelName})).catch((function(e){console.log(e)}))},onIdentifyDevice:function(){var e=this;e.unknownDevice.dialog=!0,e.unknownDevice.printerNickname="",e.unknownDevice.printerId=null,e.unknownDevice.printerModel=null},callGetAllPrinters:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,i.printer.loading=!0,t.next=4,i.callGetPresetPrinters();case 4:Object(c["e"])().then((function(e){i.printer.loading=!1,i.curDevice.printerList=e,i.curDevice.printerList.length>0&&(i.curDevice.printerList.forEach((function(e){s["default"].set(e,"modelInfo",i.callPrinterModelInfo(e.printerModelName))})),i.userConfiguration.curPrinterUUID?(i.curPrinter=i.getPrinterByUUID(i.userConfiguration.curPrinterUUID)||i.curDevice.printerList[0],console.log("ahmad",i.curPrinter)):(i.curPrinter=i.curDevice.printerList[0],i.userConfiguration.curPrinterUUID=i.curPrinter.printerUUID))}));case 5:case"end":return t.stop()}}),t)})))()},callGetUnknownPorts:function(){var e=this;e.comportsLoading=!0,Object(c["h"])().then((function(t){e.curDevice.comPortsList=t})).finally((function(){e.comportsLoading=!1}))},callGetPresetPrinters:function(){var e=this;return new Promise((function(t,i){var n=e;d.a.get("data/printerInfo.json").then((function(e){n.presetPrinterList=e.data,t()})).catch((function(e){console.log(e),i(e)}))}))},callGetConnectedCameras:function(){var e=this;e.camera.loading=!0,f().then((function(t){e.camera.loading=!1,e.curDevice.cameraList=t}))},openConnectDialog:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t,n.connectPrinter.printer=e,n.callGetUnknownPorts(),i.next=5,n.callGetPrinterStatus(e.printerUUID);case 5:n.connectPrinter.printerStatus=i.sent,console.log(n.connectPrinter.printerStatus),n.connectPrinter.comPort="",n.connectPrinter.baudRate="",n.connectPrinter.dialog=!0;case 10:case"end":return i.stop()}}),i)})))()},onConnectPrinter:function(){var e=this,t=e.connectPrinter.printer;return e.connectPrinter.loading=!0,console.log(c["c"].loading),e.curPrinter=t,Object(c["c"])(t.printerUUID,e.connectPrinter.comPort,e.connectPrinter.baudRate).then((function(i){if(i.includes("Null"))throw e.$message({message:i,type:"error"}),new Error("Null/Unsupported value provided!");e.callGetPrinterStatus(t.printerUUID).then((function(t){e.connectPrinter.printerStatus=t,e.curPrinter.printerStatus=t,e.$message({message:"Printer connected!",type:"success"})})),console.log(i)})).catch((function(t){console.log(t),e.$message({message:"Could not connect printer! Ensure correct baud-rate is set."})})).finally((function(){e.callGetAllPrinters(),e.callGetUnknownPorts(),e.connectPrinter.loading=!1,e.connectPrinter.dialog=!1})),""},onDisconnectPrinter:function(){var e=this,t=e.connectPrinter.printer;e.curPrinter=t,Object(c["d"])(t.printerUUID).then((function(i){console.log(i),e.callGetPrinterStatus(t.printerUUID).then((function(t){e.connectPrinter.printerStatus=t,e.curPrinter.printerStatus=t,e.$message({message:"Printer disconnected!",type:"success"})}))})).catch((function(t){console.log(t),e.$message({message:"Error occurred! Error: "+t,type:"error"})})).finally((function(){e.callGetAllPrinters(),e.callGetUnknownPorts(),e.connectPrinter.dialog=!1}))},callGetPrinterStatus:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t,i.abrupt("return",new Promise((function(t,i){n.callGetAllPrinters();var r=n.curDevice.printerList.find((function(t){return t.printerUUID===e})).printerStatus;r&&t(r),i("Not found")})));case 2:case"end":return i.stop()}}),i)})))()},getPrinterStatusIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return e[0].toUpperCase()+e.substring(1);switch(e){case"connected":return"text-blue";case"disconnected":return"text-red";case"paused":return"text-warning";case"printing":return"text-success";default:return""}},onSelectUnknownPrinter:function(e){this.unknownDevice.printerId=e.id,this.unknownDevice.printerManufacturerName=e.manufacturer,this.unknownDevice.printerModel=e.printerName,this.$refs.addPrinterPopover.doClose()},callAddPrinter:function(){var e=this,t=e.unknownDevice;Object(c["a"])(t.printerNickname,t.printerModel).then((function(t){console.log(t),e.$message({message:"Printer added to device!",type:"success"})})).catch((function(t){console.log(t),e.$message({message:"Error occurred! Error: "+t,type:"error"})})).finally((function(){e.unknownDevice.dialog=!1,e.callGetAllPrinters(),e.callGetUnknownPorts()}))},callPrinterModelInfo:function(e){var t=this,i=t.presetPrinterList.find((function(t){return t.printerName===e}));return i||"N/A"},callPrinterDimensions:function(e){return e&&e.machineWidth&&e.machineDepth&&e.machineHeight?e.machineWidth+"*"+e.machineDepth+"*"+e.machineHeight+"mm":"N/A"},onSelectPrinter:function(e){var t=this;t.curPrinter=e,t.userConfiguration.curPrinterUUID=e.printerUUID},getPrinterByUUID:function(e){var t=this,i=t.curDevice.printerList.find((function(t){return t.printerUUID===e}));return i||void 0},onRenameDevice:function(){var e=this;e.$prompt("Please enter a new device nickname","Rename",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",inputValue:e.curDevice.deviceNickname,inputErrorMessage:"Must not have any spaces!"}).then((function(t){var i=t.value;Object(c["b"])(i).then((function(t){console.log(t),e.$message.closeAll(),e.$message.success("Device renamed!"),e.callGetDeviceInfo()})).catch((function(t){console.log(t),e.$message.closeAll(),e.$message.error("Could not rename device! Avoid using whitespaces.")}))}))},handleCloudLogin:function(){var e=this;e.$message.success("Logged in successfully!"),e.$refs.cloudLoginDialog.close(),e.cloudLoggedIn=!0},handleLinkGroup:function(){var e=this;e.linkToGroup.dialog=!0,e.linkToGroup.linkGroupTitleText="Link device to group",e.linkToGroup.groupListLoading=!0},callLinkGroup:function(){var e=this;e.curDevice.groupId?Object(v["a"])(e.curDevice.deviceUUID).then((function(t){console.log(t),e.curDevice.groupId=void 0,e.initiateLinkGroupRequest()})):e.initiateLinkGroupRequest()},onCloudLogout:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.next=3,Object(v["a"])(i.curDevice.deviceUUID);case 3:return t.next=5,i.$store.dispatch("user/cloudLogout");case 5:case"end":return t.stop()}}),t)})))()},initiateLinkGroupRequest:function(){var e=this;Object(v["f"])(e.curDevice.deviceUUID,e.linkToGroup.selectedGroup).then((function(t){e.linkToGroup.dialog=!1,e.$message.success("Device linked to group successfully!"),e.curDevice.groupId=e.linkToGroup.selectedGroup,console.log(t)})).finally((function(){e.linkToGroup.groupListLoading=!1}))},initializeCloudLogin:function(){var e=this;e.linkToGroup.groupListLoading=!0,Object(v["e"])().then((function(t){e.linkToGroup.groupList=t,e.linkToGroup.groupListLoading=!1,Object(v["c"])().then((function(t){var i;e.curDevice.groupId=null===(i=t.find((function(t){return t.deviceUUID===e.curDevice.deviceUUID})))||void 0===i?void 0:i.groupId,e.curDevice.groupId&&(e.curDevice.groupInfo=e.linkToGroup.groupList.find((function(t){return t.userGroupId===e.curDevice.groupId})),Object(v["d"])(e.curDevice.groupId).then((function(t){e.linkToGroup.deviceList=t})).catch((function(){e.linkToGroup.deviceList=[]})))}))})).catch((function(){e.curDevice.groupId=void 0})).finally((function(){e.linkToGroup.groupListLoading=!1}))},unregisterDeviceFromGroup:function(){var e=this;e.$confirm("Are you sure you want to unregister this device from group: ".concat(e.getDeviceGroupName,"?"),"Unlink device",{confirmButtonText:"Unlink",cancelButtonText:"Cancel"}).then((function(){Object(v["a"])(e.curDevice.deviceUUID).then((function(t){console.log(t),e.$message.success("Your device has been unlinked!"),e.curDevice.groupId=void 0}))}))},changeDeviceLinkedGroup:function(){var e=this;e.$confirm("Are you sure you want to change the device group? This will unlink the current group.","Change device group",{confirmButtonText:"Change",cancelButtonText:"Cancel"}).then((function(){e.linkToGroup.linkGroupTitleText="Change device group",e.linkToGroup.dialog=!0}))},displayCloudLoginError:function(e){var t=this;t.$message.closeAll(),t.$message.error(e)},getReadableCameraType:function(e){switch(e){case"usb":return"USB";case"ip":return"IP";case"pi":return"Pi";default:return"Unknown type"}},getCameraStatusIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return e[0].toUpperCase()+e.substring(1);switch(e){case"connected":return"text-blue";case"disconnected":return"text-red";default:return""}},openCameraConnectDialog:function(e){var t=this;t.connectCamera.dialog=!0,t.connectCamera.currentCamera=e,t.connectCamera.nickname=e.cameraName},openEditCameraDialog:function(e){var t=this;t.editCamera.dialog=!0,t.editCamera.currentCamera=e,t.editCamera.newName=e.cameraName,"ip"===e.cameraType&&(t.editCamera.newIP=e.uniqueInfo)},onConnectCamera:function(){var e=this;e.connectCamera.dialog=!1,h(e.connectCamera.currentCamera.cameraUUID,e.connectCamera.selectedPrinterUUID).then((function(t){console.log(t),e.$message.success("The camera has been connected"),e.callGetConnectedCameras(),e.connectCamera.selectedPrinterUUID=""})).catch((function(t){e.$message.closeAll(),e.$message.error(t)}))},connectCameraWithUUID:function(e){var t=this;t.connectCamera.currentCamera.cameraUUID=e,t.onConnectCamera()},onDisconnectCamera:function(){var e=this;e.connectCamera.dialog=!1,h(e.connectCamera.currentCamera.cameraUUID,"").then((function(t){console.log(t),e.$message.success("The camera has been connected"),e.callGetConnectedCameras()})).catch((function(t){e.$message.closeAll(),e.$message.error(t)}))},onAddIPCamera:function(){var e=this;e.addIPCamera.dialog=!1,C(e.addIPCamera.rtsp).then((function(t){console.log(t),e.$message.success("IP camera has been added!"),e.connectCamera.selectedPrinterUUID?e.connectCameraWithUUID(t.cameraUUID):e.callGetConnectedCameras()})).catch((function(t){e.$message.closeAll(),e.$message.error(t)}))},onUpdateCameraInfo:function(){var e=this,t=e.editCamera.currentCamera;b(t.cameraUUID,e.editCamera.newName).then((function(i){"ip"===t.cameraType&&t.uniqueInfo!==e.editCamera.newIP?D(t.cameraUUID,e.editCamera.newIP).then((function(t){console.log(t),e.editCamera.dialog=!1,e.callGetConnectedCameras(),e.$message.success("Name and RTSP info updated!")})):(console.log(i),e.editCamera.dialog=!1,e.callGetConnectedCameras(),e.$message.success("Camera name updated!"))})).catch((function(t){console.log(t),e.$message.closeAll(),e.$message.error("The camera name could not be updated")}))},callReturnOnlyDate:function(e){return Object(k["e"])(e)},callGetStorage:function(){var e=this;Object(c["g"])().then((function(t){console.log(t),e.curDevice.totalStorage=t.total,e.curDevice.usableStorage=t.usable}))},callGetBytesConversion:function(e,t,i){return Object(k["c"])(e,t,i)},routeToControl:function(e){var t=this;t.userConfiguration.curPrinterUUID=e,t.$router.push("/control/index")},handleCloseLinkGroupDialog:function(){var e=this;e.linkToGroup.groupListLoading=!1,e.linkToGroup.dialog=!1},refreshPrinterList:function(){var e=this;e.callGetUnknownPorts(),e.callGetAllPrinters()}}},w=P,U=(i("5eaf"),i("2877")),I=Object(U["a"])(w,n,r,!1,null,"6e0531e7",null);t["default"]=I.exports},"5eaf":function(e,t,i){"use strict";i("6b4a")},"6b4a":function(e,t,i){},d58f:function(e,t,i){var n=i("1c0b"),r=i("7b0b"),a=i("44ad"),o=i("50c4"),s=function(e){return function(t,i,s,c){n(i);var l=r(t),u=a(l),d=o(l.length),p=e?d-1:0,m=e?-1:1;if(s<2)while(1){if(p in u){c=u[p],p+=m;break}if(p+=m,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=m)p in u&&(c=i(c,u[p],p,l));return c}};e.exports={left:s(!1),right:s(!0)}},d70b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-container"},[i("el-dialog",{attrs:{visible:e.cloudLogin.visible,width:"6rem",title:"Cloud login"},on:{"update:visible":function(t){return e.$set(e.cloudLogin,"visible",t)}}},[i("div",{staticClass:"px-4 pb-2"},[i("el-form",{ref:"cloudLoginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[i("el-form-item",{attrs:{prop:"username",label:"Username/Email"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"user"}})],1),i("el-input",{ref:"username",attrs:{placeholder:"Username/Email",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username","string"===typeof t?t.trim():t)},expression:"loginForm.username"}})],1),i("el-form-item",{attrs:{prop:"password",label:"Password"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"password"}})],1),i("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),i("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[i("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),i("el-button",{staticClass:"login-btn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("Login")])],1)],1)])],1)},r=[],a=i("e3e1"),o=i("1ffa"),s={name:"CloudLogin",data:function(){return{cloudLogin:{visible:!1},loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur"}]},loading:!1,passwordType:"password",redirect:void 0}},methods:{open:function(){var e=this;e.cloudLogin.visible=!0},close:function(){var e=this;e.cloudLogin.visible=!1},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this,t=this;o.validate(this.loginForm.username)&&(this.loginForm.email=this.loginForm.username,delete this.loginForm.username),Object(a["b"])(t.loginForm).then((function(i){t.$store.dispatch("user/loginToCloud",e.loginForm).then((function(e){t.$emit("cloud-logged-in")})).catch((function(e){t.$emit("cloud-invalid-login",e)}))})).catch((function(e){console.log(e),t.$emit("cloud-invalid-login","Combination of Email address/Username and password does not exist.")}))}}},c=s,l=i("2877"),u=Object(l["a"])(c,n,r,!1,null,null,null);t["a"]=u.exports}}]);